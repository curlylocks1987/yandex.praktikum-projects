# Исследование оттока клиентов для банка "Метанпром".

Яндекс.Практикум, Анализ Данных, Финальный проект: pandas, seaborn, matplotlib, Tableau Public, проверка статистических гипотез

__Attention:__ Иногда GitHub капризничает и не открывает файлы .ipynb, но проект всегда можно посмотреть в Jupyter NBViewer по ссылке: https://nbviewer.jupyter.org/github/curlylocks1987/yandex.praktikum-projects/blob/main/Project_Final_Bank_Churn/Project_Final_Churn_Bank.ipynb


## Данные

Данные о клиентах банка «Метанпром». Банк располагается в Ярославле и областных городах: Ростов Великий и Рыбинск.

Колонки:

- `userid` — идентификатор пользователя,
- `score` — баллы кредитного скоринга,
- `City` — город,
- `Gender` — пол,
- `Age` — возраст,
- `Objects` — количество объектов в собственности,
- `Balance` — баланс на счёте,
- `Products` — количество продуктов, которыми пользуется клиент,
- `CreditCard` — есть ли кредитная карта,
- `Loyalty` — активный клиент,
- `estimated_salary` — заработная плата клиента,
- `Churn` — ушёл или нет.

## Задача

Проанализировать клиентов регионального банка и выделить портрет клиентов, которые склонны уходить из банка.

- Провести исследовательский анализ данных,
- Выделить портреты клиентов, которые склонны уходить из банка,
- Сформулировать и проверить статистические гипотезы.

    *Гипотезу различия дохода между теми клиентами, которые ушли и теми, которые остались.*

    *Статистическую гипотезу относительно представленных данных*

## Используемые библиотеки
*pandas*, *seaborn*, *Matplotlib*, *numpy*, *sklearn*, *skipy.cluster.hierarchy*

## Основные этапы работы

- Провели предобработку данных: заменили названия столбцов, выявили пропуски типа `NaN` в столбце `balance`. Поскольку их 36% и не совсем ясна их природа, заменять их не стали.
- В ходе EDA для всех столбцов посмотрели на средние и стандартные отклонения, построили распределения и матрицу линейной корреляции. Выбросы не обнаружили, на лицо странно однородные распределения для заработной платы и количества объектов в собственности. 
- Посмотрев на средние и распределения в группировке по оттоку, построили портреты пользователей, которые ушли, и тех, что остались.
- Протестировали две статистические гипотезы: о статистически заначимом различии дохода при группировке по оттоку (тест Манна-Уитни) и о равенстве долей оттока при группировке по лояльности (Z-тест). Последнюю гипотезу сформулировали сами исходя из вопросов возникших в ходе EDA.
- Построили в Tableau Public дашборд с графиками оценки зарплаты, возраста, баланса с разбивкой по оттоку. Добавили возможность выборочного вывода каждого графика, а также индикатор процента клиентов, использующих кредитную карту. [Ссылка на дашборд.](https://public.tableau.com/views/Metanprom_Churn/Dashboard1?:language=en&:display_count=y&publish=yes&:origin=viz_share_link)
- На основании полученных результатов составили презентацию в формате pdf. [Ссылка на презентацию.](https://github.com/curlylocks1987/yandex.praktikum-projects/blob/main/Project_Final_Bank_Churn/Churn_Final.pdf)

## Основные выводы

- Три самых сильных признака оттока:
    1. Лояльность - 0
    2. Возраст - старше 40
    3. Пол - женский
    
- Отток в Ростове Великом (32%) оказался почти вдвое выше, чем в Ярославле и Рыбинске (16-17%).
- К оттоку оказались наиболее склонны нелояльные женщины старше 40, проживающие в Ростове Великом, пользующиеся одним или тремя-четырьмя продуктами банка, владеющие 0-1 объектом собственности, зарабатывающие от 100 до 150 тыс. или более 200 тыс. 
- Наоборот, чаще всего остаются с банком лояльные мужчины моложе 40, проживающие в Ярославле и Рыбинске, пользующиеся ровно двумя продуктами банка, владеющие двумя и более объектами собственности, зарабатывающие от 75 до 100 тыс. или от 150 до 200 тыс.
- Гипотеза о статистически значимом различии дохода клиентов, которые ушли, и тех, которые остались, не подтвердилась.
- Гипотеза о различии доли тех, кто ушел в отток, среди лояльных и нелояльных клиентов подтвердилась. Лояльные клиенты реже уходят.

